{"ast":null,"code":"var _jsxFileName = \"/Users/tomermarzok/Desktop/react/cinema-city/src/dashboard/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport '../auth/App.css';\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"../../node_modules/font-awesome/css/font-awesome.min.css\";\nimport SearchPage from '../movie/SearchPage.js';\nimport MovieRow from '../movie/MovieRow.js';\nimport Pagination from '../movie/Pagination.js';\nimport MovieInfo from '../movie/MovieInfo.js';\nimport { connect } from 'react-redux';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}`).then(data => data.json()).then(data => {\n        this.setState({\n          movies: [...data.results],\n          totalResults: data.total_results,\n          currSearch: this.state.searchTerm\n        });\n      });\n    };\n\n    this.getCurrSearch = () => {\n      return this.state.currSearch;\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      this.setState({\n        searchTerm: e.target.value\n      });\n    };\n\n    this.nextPage = pageNumber => {\n      fetch(`https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&page=${pageNumber}`).then(data => data.json()).then(data => {\n        this.setState({\n          movies: [...data.results],\n          currentPage: pageNumber\n        });\n      });\n    };\n\n    this.viewMovieInfo = id => {\n      const filteredMovie = this.state.movies.filter(movie => movie.id === id);\n      const newCurrMovie = filteredMovie.length > 0 ? filteredMovie[0] : null;\n      this.setState({\n        currMovie: newCurrMovie\n      });\n    };\n\n    this.closeMovieInfo = () => {\n      this.setState({\n        currMovie: null\n      });\n    };\n\n    this.state = {\n      movies: [],\n      searchTerm: \"\",\n      currSearch: \"Search movie\",\n      totalResults: -1,\n      currentPage: 1,\n      currMovie: null\n    };\n    this.apiKey = \"b58ad972ea35cacd552f03dcb6497021\";\n  }\n\n  render() {\n    const numberPages = Math.floor(this.state.totalResults / 20);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, this.state.currMovie == null ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SearchPage, {\n      handleSubmit: this.handleSubmit,\n      handleChange: this.handleChange,\n      getCurrSearch: this.getCurrSearch(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), this.state.totalResults === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"EmptySearchContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sorryDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, \"Sorry,\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, \"We couldn't find any results matching\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }, '\"' + this.state.currSearch + '\"'))) : /*#__PURE__*/React.createElement(MovieRow, {\n      viewMovieInfo: this.viewMovieInfo,\n      movies: this.state.movies,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(MovieInfo, {\n      currMovie: this.state.currMovie,\n      closeMovieInfo: this.closeMovieInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }), this.state.totalResults > 20 && this.state.currMovie == null ? /*#__PURE__*/React.createElement(Pagination, {\n      pages: numberPages,\n      nextPage: this.nextPage,\n      currentPage: this.state.currentPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }) : \"\");\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.firebase.auth\n  };\n};\n\nexport default connect(mapStateToProps)(Dashboard);","map":{"version":3,"sources":["/Users/tomermarzok/Desktop/react/cinema-city/src/dashboard/Dashboard.js"],"names":["React","Component","SearchPage","MovieRow","Pagination","MovieInfo","connect","Dashboard","constructor","handleSubmit","e","preventDefault","fetch","apiKey","state","searchTerm","then","data","json","setState","movies","results","totalResults","total_results","currSearch","getCurrSearch","handleChange","target","value","nextPage","pageNumber","currentPage","viewMovieInfo","id","filteredMovie","filter","movie","newCurrMovie","length","currMovie","closeMovieInfo","render","numberPages","Math","floor","mapStateToProps","auth","firebase"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\";\n\n\nimport '../auth/App.css';\nimport \"materialize-css/dist/css/materialize.min.css\";\nimport \"../../node_modules/font-awesome/css/font-awesome.min.css\";\n\nimport SearchPage from '../movie/SearchPage.js';\nimport MovieRow from '../movie/MovieRow.js';\nimport Pagination from '../movie/Pagination.js';\nimport MovieInfo from '../movie/MovieInfo.js';\nimport {connect} from 'react-redux';\n\nclass Dashboard extends Component {\n  constructor() {\n    super();\n    this.state = {\n      movies: [],\n      searchTerm: \"\",\n      currSearch: \"Search movie\",\n      totalResults: -1,\n      currentPage: 1,\n      currMovie: null\n    };\n    this.apiKey = \"b58ad972ea35cacd552f03dcb6497021\";\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}`\n    )\n      .then((data) => data.json())\n      .then((data) => {\n        this.setState({\n          movies: [...data.results],\n          totalResults: data.total_results,\n          currSearch: this.state.searchTerm,\n        });\n      });\n  };\n\n  getCurrSearch = () => {\n    return this.state.currSearch;\n  };\n\n  handleChange = (e) => {\n    e.preventDefault();\n    this.setState({ searchTerm: e.target.value });\n  };\n\n  nextPage = (pageNumber) => {\n    fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${this.apiKey}&query=${this.state.searchTerm}&page=${pageNumber}`\n    )\n      .then((data) => data.json())\n      .then((data) => {\n        this.setState({ movies: [...data.results], currentPage: pageNumber });\n      });\n  };\n\n  viewMovieInfo = (id) => {\n    const filteredMovie = this.state.movies.filter((movie) => movie.id === id);\n    const newCurrMovie = filteredMovie.length > 0 ? filteredMovie[0] : null;\n    this.setState({ currMovie: newCurrMovie });\n  };\n\n  closeMovieInfo = () => {\n    this.setState({ currMovie: null });\n  };\n\n\n  render() {\n    const numberPages = Math.floor(this.state.totalResults / 20);\n    return (\n      <div>\n        {this.state.currMovie == null ? (\n          <div>\n            <SearchPage\n              handleSubmit={this.handleSubmit}\n              handleChange={this.handleChange}\n              getCurrSearch={this.getCurrSearch()}\n            />\n            {this.state.totalResults === 0 ? (\n              <div className=\"EmptySearchContainer\">\n                <div className=\"row\">\n                  <div className=\"sorryDiv\">Sorry,</div>\n                  <div>We couldn't find any results matching</div>\n                  <div>{'\"' + this.state.currSearch + '\"'}</div>\n                </div>\n              </div>\n            ) : (\n              <MovieRow\n                viewMovieInfo={this.viewMovieInfo}\n                movies={this.state.movies}\n              />\n            )}\n          </div>\n        ) : (\n          <MovieInfo\n            currMovie={this.state.currMovie}\n            closeMovieInfo={this.closeMovieInfo}\n          />\n        )}\n        {this.state.totalResults > 20 && this.state.currMovie == null ? (\n          <Pagination\n            pages={numberPages}\n            nextPage={this.nextPage}\n            currentPage={this.state.currentPage}\n          />\n        ) : (\n          \"\"\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps=(state) => {\n  return {\n    auth: state.firebase.auth\n  }\n}\n\nexport default connect(mapStateToProps)(Dashboard);"]},"metadata":{},"sourceType":"module"}