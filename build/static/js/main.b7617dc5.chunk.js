(this["webpackJsonpcinema-city"]=this["webpackJsonpcinema-city"]||[]).push([[0],{143:function(e,t,a){},222:function(e,t,a){e.exports=a(419)},227:function(e,t,a){},228:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(86),l=a.n(c),i=(a(227),a(22)),o=a(23),s=a(25),u=a(24),m=a(88),h=a(26),d=(a(143),a(144),a(47),a(228),a(16)),f=a(21),v=Object(f.b)(null,(function(e){return{}}))((function(e){return console.log(e),r.a.createElement("nav",{className:"navbar navbar-default",id:"root"},r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement("a",{href:"Dashboard",className:"brand-logo"},r.a.createElement("i",{className:"fa fa-film fx-5x"}),"Moviepedia"),r.a.createElement("ul",{className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("a",{href:"about"},"About")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/Dashboard"},"Search"))),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("a",{href:"#!",onClick:e.logOutUser},"Logout"))),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(d.b,{to:"/Login"},"Login")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/SignUp"},"SignUP")),r.a.createElement("li",null))))})),g=a(141),p=(a(234),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col s4 offset-s4"},r.a.createElement("form",{action:"",onSubmit:e.handleSubmit,placeholder:"search movie"},r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{className:"search-bar",placeholder:e.getCurrSearch,type:"text",onChange:e.handleChange,required:!0}))))))}),E=function(e){return r.a.createElement("div",{className:"col s12 m6 l4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image waves-effect waves-block waves-light"},null==e.image?r.a.createElement("img",{alt:"card",src:"https://www.freeiconspng.com/uploads/no-image-icon-11.PNG",style:{width:"100%",height:300}}):r.a.createElement("img",{alt:"card",src:"http://image.tmdb.org/t/p/w185".concat(e.image),style:{width:"100%",height:300}})),r.a.createElement("span",{className:"card-title"},e.title.length<20?r.a.createElement("div",null,e.title):r.a.createElement("div",null,e.title.substr(0,20))),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,r.a.createElement("i",{class:"fa fa-info-circle fa-2x",onClick:function(){return e.viewMovieInfo(e.movieId)},style:{cursor:"pointer",paddingTop:5}},r.a.createElement("font",{size:"5"},"details"))))))},b=(a(235),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12"},e.movies.map((function(t,a){return r.a.createElement(E,{key:a,viewMovieInfo:e.viewMovieInfo,movieId:t.id,MovieRate:t.vote_average,MovieTotalVote:t.vote_count,image:t.poster_path,title:t.title})})))))}),w=function(e){for(var t=[],a=function(a){var n=e.currentPage===a?"active":"";t.push(r.a.createElement("li",{className:"waves-effect ".concat(n),key:a,onClick:function(){return e.nextPage(a)}},r.a.createElement("a",{href:"!#"},a)))},n=1;n<=e.pages+1;n++)a(n);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"pagination"},e.currentPage>1?r.a.createElement("li",{className:"waves-effect",onClick:function(){return e.nextPage(e.currentPage-1)}},r.a.createElement("a",{href:"!#"},"prev")):"",t,e.currentPage<e.pages+1?r.a.createElement("li",{className:"waves-effect",onClick:function(){return e.nextPage(e.currentPage+1)}},r.a.createElement("a",{href:"!#"},"next")):"")))},y=(a(91),a(220)),N=a.n(y),j=function(e){return r.a.createElement("div",{className:"InfoContainer"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m4"},null==e.currMovie.poster_path?r.a.createElement("img",{alt:"card",src:"https://www.freeiconspng.com/uploads/no-image-icon-11.PNG",style:{width:"100%",height:300}}):r.a.createElement("img",{alt:"card",src:"http://image.tmdb.org/t/p/w185".concat(e.currMovie.poster_path),style:{width:"100%",height:300}}),r.a.createElement("div",{className:"row",onClick:e.closeMovieInfo,style:{cursor:"pointer",paddingTop:5}},r.a.createElement("i",{className:"fa fa-arrow-left fa-2x"}," Go back"))),r.a.createElement("div",{className:"col s12 m8"},r.a.createElement("div",{className:"info-container"},r.a.createElement("p",null,r.a.createElement("font",{size:"50"},e.currMovie.title)),r.a.createElement("p",null," Release: ",e.currMovie.release_date.substring(5).split("-").concat(e.currMovie.release_date.substring(0,4)).join("/")),r.a.createElement("p",null," ",e.currMovie.overview),r.a.createElement("p",null,r.a.createElement(N.a,{name:"rateMovie",editing:!1,renderStarIcon:function(){return r.a.createElement("span",null,r.a.createElement("i",{class:"fa fa-star fa-3x"}))},starCount:5,value:e.currMovie.vote_average/2}),r.a.createElement("div",null,"Number of vote: ",e.currMovie.vote_count))))))},O=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){t.preventDefault(),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(e.apiKey,"&query=").concat(e.state.searchTerm)).then((function(e){return e.json()})).then((function(t){e.setState({movies:Object(g.a)(t.results),totalResults:t.total_results,currSearch:e.state.searchTerm})}))},e.getCurrSearch=function(){return e.state.currSearch},e.handleChange=function(t){e.setState({searchTerm:t.target.value})},e.nextPage=function(t){fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(e.apiKey,"&query=").concat(e.state.searchTerm,"&page=").concat(t)).then((function(e){return e.json()})).then((function(a){e.setState({movies:Object(g.a)(a.results),currentPage:t})}))},e.viewMovieInfo=function(t){var a=e.state.movies.filter((function(e){return e.id===t})),n=a.length>0?a[0]:null;e.setState({currMovie:n})},e.closeMovieInfo=function(){e.setState({currMovie:null})},e.state={movies:[],searchTerm:"",currSearch:"Search movie",totalResults:-1,currentPage:1,currMovie:null,username:""},e.apiKey="b58ad972ea35cacd552f03dcb6497021",e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Math.floor(this.state.totalResults/20);return r.a.createElement("div",null,null==this.state.currMovie?r.a.createElement("div",null,r.a.createElement(p,{handleSubmit:this.handleSubmit,handleChange:this.handleChange,getCurrSearch:this.getCurrSearch()}),0===this.state.totalResults?r.a.createElement("div",{className:"EmptySearchContainer"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"sorryDiv"},"Sorry,"),r.a.createElement("div",null,"We couldn't find any results matching"),r.a.createElement("div",null,'"'+this.state.currSearch+'"'))):r.a.createElement(b,{viewMovieInfo:this.viewMovieInfo,movies:this.state.movies})):r.a.createElement(j,{currMovie:this.state.currMovie,closeMovieInfo:this.closeMovieInfo}),this.state.totalResults>20&&null==this.state.currMovie?r.a.createElement(w,{pages:e,nextPage:this.nextPage,currentPage:this.state.currentPage}):"")}}]),t}(n.Component),S=a(28),C=a(46),M=a(89);a(237),a(148);M.initializeApp({apiKey:"AIzaSyBOuGFNaj4ArdJttKHkB9lzdhR3gI2SaOk",authDomain:"cinema-city-ce769.firebaseapp.com",databaseURL:"https://cinema-city-ce769.firebaseio.com",projectId:"cinema-city-ce769",storageBucket:"cinema-city-ce769.appspot.com",messagingSenderId:"1094049162026"}),M.firestore().settings({timestampsInSnapshots:!0});var I=M,P=function(e){return function(t,a,n){var r=n.getFirebase;n.getFirestore;r().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"login_success"})})).catch((function(e){t({type:"login_error",err:e})}))}},k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,c=this.error.authError;return r.a.createElement("div",{className:"InfoContainer"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("font",{size:"10",color:"red"},"Login"),r.a.createElement("div",null),n&&r.a.createElement("p",{className:"error-message"},n.message),r.a.createElement("label",null,"Email address"),r.a.createElement("input",{value:t,onChange:this.handleChange,type:"text",name:"email",className:"form-control",id:"email",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{value:a,onChange:this.handleChange,type:"text",name:"password",className:"form-control",id:"password",placeholder:"Password",autoComplete:"on"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"),r.a.createElement("p",null,"Don't have an account yet?",r.a.createElement(d.b,{to:"/SignUp"}," Sign UP")),c?r.a.createElement("p",null,c):null))}}]),t}(n.Component),x=Object(f.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e(P(t))}}}))(k),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(C.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.authError;return r.a.createElement("div",{className:"InfoContainer"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("font",{size:"10",color:"red"},"Register your account"),r.a.createElement("div",null),r.a.createElement("label",null,"Email address"),r.a.createElement("input",{onChange:this.handleChange,type:"text",name:"email",id:"email",placeholder:"Enter email",required:!0}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",id:"Password",placeholder:"Password",required:!0})),r.a.createElement("button",{onClick:this.handleSubmit,style:{marginLeft:"25px"},className:"btn btn-success",children:"Get started"},"Signup"),e?r.a.createElement("p",null,e):null,r.a.createElement("p",null,"Already have an account yet?",r.a.createElement(d.b,{to:"/Login"}," Sign UP"))))}}]),t}(n.Component),R=Object(f.b)((function(e){return{authError:e.auth.authError}}),(function(e){return{signIn:function(t){return e(P(t))}}}))(_),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={user:null},a.logOutUser=a.logOutUser.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"backgroundImage"},r.a.createElement(v,null),r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:O}),r.a.createElement(S.a,{path:"/Login",component:x}),r.a.createElement(S.a,{path:"/SignUp",component:R}),r.a.createElement(S.a,{path:"/DashBoard",component:O}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=a(27),D=a(140),F={authError:null},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_success":return console.log("login success"),Object(D.a)({},e,{authError:null});case"login_error":return console.log("login failed"),Object(D.a)({},e,{authError:"login failed"});default:return e}},T=a(59),z=a(60),B=Object(A.c)({auth:L,firestore:T.firestoreReducer,firebase:z.firebaseReducer}),q=a(221),G=Object(A.e)(B,Object(A.d)(Object(A.a)(q.a.withExtraArgument({getFirebase:z.getFirebase,getFirestore:T.getFirestore})),Object(T.reduxFirestore)(I),Object(z.reactReduxFirebase)(I)));l.a.render(r.a.createElement(f.a,{store:G},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){}},[[222,1,2]]]);
//# sourceMappingURL=main.b7617dc5.chunk.js.map